This is straight up union find. Won't need theory for this one.
Different groups -> make unions (maintain parent child relations) -> find (based on query).
Solved union find in python, coverting the same to c++.